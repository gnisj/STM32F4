#ifndef SPI_H_INCLUDED
#define SPI_H_INCLUDED

//---------------------------------------------------------------------
// Global variables
//---------------------------------------------------------------------
/*
static const uint16_t speeds[] = {
  [SPI_SLOW] = SPI_BaudRatePrescaler_64,
  [SPI_MEDIUM] = SPI_BaudRatePrescaler_8,
  [SPI_FAST] = SPI_BaudRatePrescaler_2 };
*/

//---------------------------------------------------------------------
// Function prototypes
//---------------------------------------------------------------------
void spiInit(SPI_TypeDef *SPIx);
int spiReadWrite(SPI_TypeDef* SPIx,
                 uint8_t *rbuf,
                 const uint8_t *tbuf,
                 int cnt,
                 enum spiSpeed speed);

uint8_t eepromReadStatus();
void csInit(void);
void spiLoopbackTest();

#endif //SPI_H
